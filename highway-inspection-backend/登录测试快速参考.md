# 登录测试快速参考卡

## 🚀 快速测试

### ✅ 正确登录示例

**操作员登录：**
```
用户名: operator1
密码: op123
角色: 操作员
→ ✅ 成功
```

**管理员登录：**
```
用户名: admin
密码: admin123
角色: 管理员
→ ✅ 成功
```

### ❌ 错误场景示例

**角色选错：**
```
用户名: operator1
密码: op123
角色: 管理员  ← 错误！这是操作员账号
→ ❌ "该账号不是管理员，请选择正确的角色"
```

**密码错误：**
```
用户名: operator1
密码: 123456  ← 错误密码
角色: 操作员
→ ❌ "登录失败，请检查用户名和密码"
```

## 📋 测试账号清单

| 账号 | 密码 | 角色 | 选择 |
|------|------|------|------|
| admin | admin123 | 管理员 | 👨‍💼 管理员 |
| operator1 | op123 | 操作员 | 👤 操作员 |
| operator2 | op123 | 操作员 | 👤 操作员 |

## 🔍 验证清单

登录后检查：
- [ ] Network显示 POST /api/auth/login 200
- [ ] Console显示"登录成功"
- [ ] 跳转到地图页面
- [ ] LocalStorage有token（以eyJ开头）
- [ ] 右上角显示用户名

## 🎯 测试矩阵

| 用户名 | 密码 | 角色选择 | 预期结果 |
|--------|------|----------|---------|
| admin | admin123 | 管理员 | ✅ 成功 |
| admin | admin123 | 操作员 | ❌ 角色错误 |
| admin | wrong | 管理员 | ❌ 密码错误 |
| operator1 | op123 | 操作员 | ✅ 成功 |
| operator1 | op123 | 管理员 | ❌ 角色错误 |
| operator1 | wrong | 操作员 | ❌ 密码错误 |
| wrong | any | 任意 | ❌ 用户不存在 |

## ⚡ 快速启动

```bash
# 后端
cd highway-inspection-backend
python run.py

# 前端（新终端）
cd highway-inspection-frontend
npm run dev

# 访问
http://localhost:5173
```

## 🐛 问题排查

**问题：任何密码都能登录**
→ 前端需要重启：Ctrl+C 然后 npm run dev

**问题：显示CORS错误**
→ 检查后端是否运行在3000端口

**问题：Network没有请求**
→ 检查浏览器Console是否有错误

## 📞 关键文件

- 前端登录：`src/views/Login.vue`
- API接口：`src/api/modules.ts`
- 后端路由：`app/routes/auth.py`
- 后端逻辑：`app/services/auth_service.py`

---

**记住：用户名密码必须正确 + 角色必须匹配 = 登录成功** ✅

